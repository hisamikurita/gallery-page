(()=>{"use strict";var e,t={836:(e,t,i)=>{var n=i(358),r=i(212);function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=i,this.stage=t,console.log(this.element),this.mesh=null,this.meshSize={x:this.element.width,y:this.element.height},this.texture=(new r.TextureLoader).load(this.element.img),this.textureSize={x:760,y:560},this.windowWidth=0,this.windowHeight=0,this.windowWidthHalf=0,this.windowHeightHalf=0,this.meshWidthHalf=0,this.meshHeightHalf=0}var t,i;return t=e,(i=[{key:"init",value:function(){this._setWindowSize(),this._setMesh(),this._setMeshScale(),this._setMeshPosition()}},{key:"_setWindowSize",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowWidthHalf=.5*this.windowWidth,this.windowHeightHalf=.5*this.windowHeight}},{key:"_setMeshScale",value:function(){this.mesh.scale.x=this.element.width,this.mesh.scale.y=this.element.height,this.mesh.material.uniforms.u_meshsize.value.x=this.mesh.scale.x,this.mesh.material.uniforms.u_meshsize.value.y=this.mesh.scale.y,this.meshWidthHalf=.5*this.mesh.scale.x,this.meshHeightHalf=.5*this.mesh.scale.y}},{key:"_setMeshPosition",value:function(){this.mesh.position.y=this.windowHeightHalf-this.meshHeightHalf-this.element.top,this.mesh.position.x=-this.windowWidthHalf+this.meshWidthHalf+this.element.left}},{key:"_setStrength",value:function(e){this.mesh.material.uniforms.u_strength.value=e}},{key:"_setMesh",value:function(){var e=new r.PlaneBufferGeometry(1,1,32,32),t=new r.RawShaderMaterial({vertexShader:"attribute vec3 position;\nattribute vec2 uv;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float u_strength;\nvarying vec2 vUv;\n\n#define PI 3.1415926535897932384626433832795\n\nvoid main() {\n    vUv = uv;\n\n    vec3 pos = position;\n    vec2 uvCurve = uv;\n    vec3 curve = vec3(\n        0.,\n        sin( uvCurve.x * PI )  * u_strength,\n        0.\n    );\n    pos += curve * 0.0025;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n}",fragmentShader:"precision highp float;\n\nuniform vec2 u_texturesize;\nuniform vec2 u_meshsize;\nuniform sampler2D u_texture;\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 ratio = vec2(\n        min((u_meshsize.x / u_meshsize.y) / (u_texturesize.x / u_texturesize.y), 1.0),\n        min((u_meshsize.y / u_meshsize.x) / (u_texturesize.y / u_texturesize.x), 1.0)\n    );\n\n    vec2 uv = vec2(\n      vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n      vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n    );\n\n    uv -= 0.5;\n    uv *= ratio;\n    uv += 0.5;\n\n    vec4 texture = texture2D(u_texture, uv);\n\n    gl_FragColor = vec4(texture);\n}\n",uniforms:{u_texture:{type:"t",value:this.texture},u_meshsize:{type:"v2",value:this.meshSize},u_texturesize:{type:"v2",value:this.textureSize},u_strength:{type:"f",value:0}},transparent:!0});this.mesh=new r.Mesh(e,t),this.stage.scene.add(this.mesh)}},{key:"onResize",value:function(){this._setWindowSize()}},{key:"_render",value:function(){this.mesh&&(this._setMeshScale(),this._setMeshPosition())}},{key:"onRaf",value:function(){this._render()}}])&&s(t.prototype,i),e}(),a=i(792),h=i.n(a),l=i(581),c=i.n(l);function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.renderParam={clearColor:0,width:window.innerWidth,height:window.innerHeight},this.cameraParam={fov:45,near:.1,far:100,lookAt:new r.Vector3(0,0,0),x:0,y:0,z:1},this.scene=null,this.camera=null,this.renderer=null,this.isInitialized=!1,this.orbitcontrols=null,this.stats=null,this.isDev=!1}var t,i;return t=e,(i=[{key:"init",value:function(){this._setScene(),this._setRender(),this._setCamera()}},{key:"_setScene",value:function(){this.scene=new r.Scene}},{key:"_setRender",value:function(){this.renderer=new r.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.renderParam.width,this.renderParam.height),document.querySelector("#webgl").appendChild(this.renderer.domElement)}},{key:"_setCamera",value:function(){this.isInitialized||(this.camera=new r.PerspectiveCamera(0,0,this.cameraParam.near,this.cameraParam.far),this.camera.position.set(this.cameraParam.x,this.cameraParam.y,this.cameraParam.z),this.camera.lookAt(this.cameraParam.lookAt),this.isInitialized=!0);var e=window.innerWidth,t=window.innerHeight;this.camera.aspect=e/t,this.camera.fov=2*r.MathUtils.radToDeg(Math.atan(e/this.camera.aspect/(2*this.camera.position.z))),this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}},{key:"_setDev",value:function(){this.scene.add(new r.GridHelper(1e3,100)),this.scene.add(new r.AxesHelper(100)),this.orbitcontrols=new(c())(this.camera,this.renderer.domElement),this.orbitcontrols.enableDamping=!0,this.stats=new(h()),this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.right="0px",document.getElementById("stats").appendChild(this.stats.domElement),this.isDev=!0}},{key:"_render",value:function(){this.renderer.render(this.scene,this.camera),this.isDev&&this.stats.update(),this.isDev&&this.orbitcontrols.update()}},{key:"onResize",value:function(){this._setCamera()}},{key:"onRaf",value:function(){this._render()}}])&&u(t.prototype,i),e}();function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetElArray=t,this.optionList=[]}var t,i;return t=e,(i=[{key:"init",value:function(){this._initOptionList()}},{key:"_initOptionList",value:function(){for(var e=0;e<this.targetElArray.length;e++){var t=this.targetElArray[e],i=t.getBoundingClientRect();this.optionList[e]={},this.optionList[e].width=i.width,this.optionList[e].height=i.height,this.optionList[e].top=i.top,this.optionList[e].left=i.left;var n=t.querySelector("img").src;this.optionList[e].img=n}}},{key:"_updateOptionList",value:function(){for(var e=0;e<this.targetElArray.length;e++){var t=this.targetElArray[e].getBoundingClientRect();this.optionList[e].width=t.width,this.optionList[e].height=t.height,this.optionList[e].top=t.top,this.optionList[e].left=t.left}}}])&&v(t.prototype,i),e}(),f=document.querySelector("body"),w=document.querySelector(".list"),g=document.querySelectorAll(".item"),p=window.innerWidth>767?1:2,y=[],x=new d;x.init();var _=new m(g);_.init();for(var k=!1,b=0,z=[],H=0;H<g.length;H++)z.push({item:g[H],extra:{x:0,y:0}}),y.push(new o(x,_.optionList[H])),y[H].init();var S={start:0,end:0,distance:0,mouse:0,current:0,target:0,scroll:0,save:0,wheel:0,key:0,direction:0},L={start:0,end:0,distance:0,mouse:0,current:0,target:0,scroll:0,save:0,wheel:0,key:0,direction:0},E=function(e){k=!0,console.log("down"),S.start=e.touches?e.touches[0].clientX:e.clientX,L.start=e.touches?e.touches[0].clientY:e.clientY,S.scroll=S.save,L.scroll=L.save},P=function(e){k&&(console.log("move"),f.style.cursor="grabbing",w.style.pointerEvents="none",S.end=e.touches?e.touches[0].clientX:e.clientX,L.end=e.touches?e.touches[0].clientY:e.clientY,S.distance=(S.start-S.end)*p,L.distance=(L.start-L.end)*p,S.target=S.distance+S.scroll,L.target=L.distance+L.scroll+S.distance)},W=function(){k=!1,console.log("up"),f.style.cursor="auto",w.style.pointerEvents="auto",S.mouse+=S.distance,L.mouse+=L.distance+S.distance};window.addEventListener("keydown",(function(e){console.log("down"),b<140&&(b+=12),"ArrowDown"===e.key&&(L.key+=b),"ArrowUp"===e.key&&(L.key+=-b),"ArrowRight"===e.key&&(S.key+=b),"ArrowLeft"===e.key&&(S.key+=-b),S.target=S.key+S.wheel+S.mouse,L.target=L.key+L.wheel+L.mouse})),window.addEventListener("keyup",(function(){console.log("up"),b=0})),window.addEventListener("mousedown",E),window.addEventListener("mousemove",P),window.addEventListener("mouseup",W),window.addEventListener("touchstart",E),window.addEventListener("touchmove",P),window.addEventListener("touchend",W),window.addEventListener("wheel",(function(e){e.preventDefault(),S.wheel+=e.deltaX,L.wheel+=e.deltaY+.5*e.deltaX,S.target=S.wheel+S.mouse+S.key,L.target=L.wheel+L.mouse+L.key,console.log(S.direction),console.log(L.direction)}),{passive:!1}),window.addEventListener("resize",(function(){console.log("resize"),S.current=0,L.current=0,S.wheel=0,L.wheel=0,S.allDistance=0,L.allDistance=0,S.save=0,L.save=0,S.target=0,L.target=0;for(var e=0;e<z.length;e++)z[e].extra.x=0,z[e].extra.y=0;x.onResize();for(var t=0;t<z.length;t++)y[t].onResize()})),n.p8.ticker.fps(60),n.p8.ticker.add((function(){S.current=n.p8.utils.interpolate(S.current,S.target,.1),L.current=n.p8.utils.interpolate(L.current,L.target,.1),S.save<S.current?S.direction="left":S.save>S.current&&(S.direction="right"),L.save<L.current?L.direction="top":L.save>L.current&&(L.direction="bottom"),S.save=S.current,L.save=L.current;for(var e=0;e<z.length;e++){var t=z[e].item.getBoundingClientRect();e%4-1==0||e%4-1==2?("left"===S.direction&&t.left<-t.width?(console.log("画面外"),z[e].extra.x+=w.clientWidth):"right"===S.direction&&window.innerWidth<t.left&&(console.log("画面外"),z[e].extra.x+=-w.clientWidth),"top"===L.direction&&window.innerHeight<t.top?(console.log("画面外"),z[e].extra.y+=-w.clientHeight):"bottom"===L.direction&&t.top<-t.height&&(console.log("画面外"),z[e].extra.y+=w.clientHeight)):("left"===S.direction&&t.left<-t.width?(console.log("画面外"),z[e].extra.x+=w.clientWidth):"right"===S.direction&&window.innerWidth<t.left&&(console.log("画面外"),z[e].extra.x+=-w.clientWidth),"bottom"===L.direction&&window.innerHeight<t.top?(console.log("画面外"),z[e].extra.y+=-w.clientHeight):"top"===L.direction&&t.top<-t.height&&(console.log("画面外"),z[e].extra.y+=w.clientHeight));var i=0,r=0;i=-S.current+z[e].extra.x,r=-L.current+z[e].extra.y,e%4-1!=0&&e%4-1!=2||(i=-S.current+z[e].extra.x,r=-(-L.current-z[e].extra.y)),z[e].item.style.transform="translate(".concat(i,"px, ").concat(r,"px)")}x.onRaf(),_._updateOptionList();for(var s=0;s<z.length;s++){var o=.1*(L.current-L.target);s%4-1==0||s%4-1==2?y[s]._setStrength(o):y[s]._setStrength(-o),y[s].onRaf()}}))},941:()=>{}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,i,r,s)=>{if(!i){var o=1/0;for(c=0;c<e.length;c++){for(var[i,r,s]=e[c],a=!0,h=0;h<i.length;h++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](i[h])))?i.splice(h--,1):(a=!1,s<o&&(o=s));if(a){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,r,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var r,s,[o,a,h]=i,l=0;for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(h)var c=h(n);for(t&&t(i);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[o[l]]=0;return n.O(c)},i=self.webpackChunkwebpack_creativesite_boilerplate=self.webpackChunkwebpack_creativesite_boilerplate||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),n.O(void 0,[736],(()=>n(836)));var r=n.O(void 0,[736],(()=>n(941)));r=n.O(r)})();